<snippet>
    <content><![CDATA[
æˆ‘å‘Šè¯‰ä½ ä¸€ä¸ªè¯†åˆ« C++ ä»£ç è´¨é‡çš„è¯€çªï¼šæ‰¾å‡ ä¸ª classï¼Œå¦‚æžœå…¶ dtor æœ‰ delete æˆ–é‡Šæ”¾èµ„æºçš„æ“ä½œï¼Œçœ‹çœ‹ä½œè€…æ˜¯å¦åŒæ—¶æ­£ç¡®ç¦ç”¨äº† copy ctor å’Œ assignment operatorï¼ˆæˆ–è€…æ­£ç¡®å®žçŽ°äº†å®ƒä»¬ï¼Œå¦‚æžœ class ç¡®å®žåº”è¯¥æ˜¯ copyable çš„è¯ï¼‰ï¼Œè¿™åæ˜ äº†ä½œè€…è®¾è®¡ C++ class çš„åŸºæœ¬åŠŸï¼šæ­£ç¡®ç®¡ç†å†…å­˜å’Œå…¶ä»–èµ„æºï¼Œä»¥åŠä»–æœ‰æ²¡æœ‰è®¤çœŸè¯»è¿‡ Effective C++ã€‚

æˆ‘è®¤ä¸º C++ æ ‡å‡†åº”è¯¥è¿™æ ·è§„å®šï¼Œåªè¦ç”¨æˆ·è‡ªå·±å®šä¹‰äº† dtorï¼Œå°±é»˜è®¤ç¦æŽ‰ copy ctor å’Œ operator=ï¼Œè¿™æ ·æ›´å®‰å…¨ã€‚æ­¤æ—¶ï¼Œå¦‚æžœç¡®å®žæœ‰éœ€è¦ï¼Œç”¨æˆ·å¯ä»¥è‡ªå·±å®šä¹‰ copy ctor å’Œ operator=ã€‚

ä»Šå¤©è®²è¯¾æœ‰åŒå­¦é—®åˆ°äº† c++ çš„ curiously recurring template pattern (CRTP) è¿™ä¸œè¥¿æœ‰å•¥ç”¨ï¼Ÿå®ƒå¯ä»¥ç”¨æ¥åœ¨ç¼–è¯‘æœŸæ¨¡æ‹Ÿå­ç±»åž‹å¤šæ€ï¼ˆè™šå‡½æ•°ï¼‰ï¼Œæ‰€ä»¥ä½ å¯ä»¥å†™ä¸€ç§çœ‹ä¸ŠåŽ»åƒç»§æ‰¿/é‡å†™ä½†å¹¶æ²¡æœ‰è™šå‡½æ•°è°ƒç”¨å¼€é”€çš„ä¸œè¥¿ã€‚å…¶å®žä½ ç»†æƒ³ï¼Œä¼šè§‰å¾—æ›´åƒ mixinï¼Œå› ä¸ºå„ä¸ªæ´¾ç”Ÿç±»å¹¶ä¸æ˜¯ç»§æ‰¿è‡ªåŒä¸€ä¸ªåŸºç±»ï¼Œè€Œæ˜¯ã€Œæ··å…¥ã€äº†ä¸åŒçš„åŸºç±»æ¨¡æ¿å®žä¾‹ã€‚mixin æœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿå¦‚æžœä¸€ä¸ªç±»éœ€è¦åŠ å…¥å¾ˆå¤šåŠŸèƒ½ï¼Œä¼ ç»Ÿçš„å¤šé‡ç»§æ‰¿äº‹å„¿å¾ˆå¤šï¼ˆæƒ³æƒ³ c++ çš„è™šæ‹Ÿç»§æ‰¿æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼‰ä¹Ÿå¸¦æ¥äº†æ²¡å¿…è¦çš„å™ªéŸ³ã€‚ä½•ä¸ç›´æŽ¥ç”¨ mixin ã€Œæ··å…¥ã€åŠŸèƒ½ï¼Ÿè¿™æ—¶ mixin è‡ªç„¶å¯èƒ½éœ€è¦é’ˆå¯¹æ··å…¥ç›®æ ‡ç±»åšä¸€äº›å®šåˆ¶ï¼Œæˆ‘ä»¬åœ¨ c++ é‡Œå°±å¯ä»¥è€ƒè™‘ç”¨ crtp äº†ã€‚


C++ çš„æŸç‚¹ä¸ä¸€è‡´æ€§ï¼š
static_cast, dynamic_cast, const_cast, reinterpret_cast æ˜¯å…³é”®å­—ï¼Œè€Œ bit_cast, duration_cast, any_cast æ˜¯å‡½æ•°æ¨¡æ¿ðŸ¤¡è®²çœŸè¿™è®¾è®¡æ²¡é”™åªæ˜¯åå­—å¤ªè¿·æƒ‘ï¼ˆä¸è¿‡è¿™æ ·çš„è¿·æƒ‘åå­—å·²ç»ä¸å°‘äº†ï¼Œæƒ³æƒ³std::moveðŸ¤¡ï¼‰ 
è¿˜æœ‰ç»å…¸çš„ï¼šis_integral, is_floating_point, is_same â€¦ æ˜¯ type traitsï¼ˆç±»æ¨¡æ¿ï¼‰ï¼›integral, floating_point, same_as â€¦ æ˜¯ concepts ðŸ¤¡


There are several different hash map implementations available â€“ std::unordered_map, absl::flat_hash_map, boost:: hash maps, emhash7::HashMap, folly::AtomicHashmap, robin_hood::unordered_map, tsl::hopscotch_map, and many more.


--- å¸¸ç”¨å¼€å‘ä¾èµ–

# Dockerfile
# chrono@2020-09

# curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun
# sudo service docker start
# sudo usermod -aG docker ${USER}

# docker build -t chronolaw/cpp_study .

# docker run -it chronolaw/cpp_study
# docker run -it --rm chronolaw/cpp_study

# check for http server in http_study
# docker inspect bridge
# curl 172.17.0.3/11-1 -v

# docker login
# docker push chronolaw/cpp_study
# docker pull chronolaw/cpp_study

ARG SRC_IMAGE="gcc:7"

FROM ${SRC_IMAGE}

#LABEL version="2020-09"

# gcc-multilib g++-multilib
# linux-tools-common
# linux-tools-4.4.0-31-generic linux-cloud-tools-4.4.0-31-generic linux-tools-generic linux-cloud-tools-generic

ARG JSON_VERSION="3.9.1"
ARG CPR_VERSION="1.4.0"
ARG LUAJIT_VERSION="2.1-20200102"
ARG LUABRIDAGE_VERSION="2.6"
ARG GPERF_VERSION="2.8"

RUN DEBIAN_FRONTEND=noninteractive apt-get update \
    && DEBIAN_FRONTEND=noninteractive apt-get install -y \
        vim cmake gdb pstack strace  \
        libmsgpack-dev protobuf-compiler libprotobuf-dev libprotoc-dev \
        libcurl4-openssl-dev libzmq3-dev \
        python3-dev python3-pip \
        google-perftools libgoogle-perftools-dev \
    && pip3 install pybind11 \
    && cd \
    && git clone https://github.com/chronolaw/cpp_study --depth=1 \
    && cp ~/cpp_study/env/vimrc ~/.vimrc \
    && cp ~/cpp_study/env/bashrc ~/.bashrc \
    && cp ~/cpp_study/env/gitconfig ~/.gitconfig \
    && mkdir github \
    && cd github \
    && curl -fsL https://github.com/nlohmann/json/releases/download/v${JSON_VERSION}/json.hpp -o json.hpp \
    && ln -s ~/github/json.hpp ~/cpp_study/common/ \
    && curl -fsL https://github.com/whoshuu/cpr/archive/${CPR_VERSION}.tar.gz -o cpr.tgz \
    && tar xfz cpr.tgz \
    && cd cpr-${CPR_VERSION} \
    && cmake . -DUSE_SYSTEM_CURL=ON -DBUILD_CPR_TESTS=OFF \
    && make && make install && make clean \
    && cd .. \
    && curl -fsL https://github.com/openresty/luajit2/archive/v${LUAJIT_VERSION}.tar.gz -o luajit.tgz \
    && tar xfz luajit.tgz \
    && cd luajit2-${LUAJIT_VERSION} \
    && make && make install && make clean \
    && ln -s /usr/local/lib/libluajit-5.1.so.2 /lib/x86_64-linux-gnu/ \
    && cd .. \
    && curl -fsL https://github.com/vinniefalco/LuaBridge/archive/${LUABRIDAGE_VERSION}.tar.gz -o LuaBridge.tgz \
    && tar xfz LuaBridge.tgz \
    && ln -s ~/github/LuaBridge-${LUABRIDAGE_VERSION}/Source/LuaBridge/  ~/cpp_study/common/ \
    && curl -fsL https://github.com/gperftools/gperftools/releases/download/gperftools-${GPERF_VERSION}/gperftools-${GPERF_VERSION}.tar.gz -o gperf.tgz \
    && tar xfz gperf.tgz \
    && ln -s ~/github/gperftools-${GPERF_VERSION}/pprof-symbolize /bin/pprof \
    && git clone https://github.com/brendangregg/FlameGraph.git --depth=1 \
    && ln -s ~/github/FlameGraph/flamegraph.pl ~/cpp_study/section4/ \
    && rm *.tgz \
    && DEBIAN_FRONTEND=noninteractive apt-get autoremove -y


#CMD ["/bin/bash"]
CMD ["/bin/bash", "-c", "cd ~/cpp_study;/bin/bash"]


]]></content>
	<!-- Optional: Set a tabTrigger to define how to trigger the snippet -->
	<tabTrigger>cppnotes</tabTrigger>
	<!-- Optional: Set a scope to limit where the snippet will trigger -->
	<scope>source.c++</scope>
</snippet>